We have used one auxiliary function in our code from the MATLAB File Exchange. The function is called \textbf{legendUnq} and allows plot legends to show only unique entries. The function can be found online here: 


Adam Danz (2020). legendUnq (https://www.mathworks.com/matlabcentral/fileexchange/67646-legendunq), MATLAB Central File Exchange. Retrieved May 18, 2020. 


It is also listed below.
\lstinputlisting[style= Matlab-editor,basicstyle = \mlttfamily,
  caption=legendUnq.m]{legendUnq.m}